{"error":{"beforeHandshake":false,"connectionGeneration":0,"errorLabelSet":{}},"level":"error","message":"MongoDB connection failed","service":"identity-service","timestamp":"2026-02-03T17:17:50.291Z"}
{"level":"error","message":"Failed to login user.comparePassword is not a function","service":"identity-service","stack":"TypeError: user.comparePassword is not a function\n    at login (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/controllers/identity.controller.js:89:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-05T06:59:41.382Z"}
{"error":{"code":"ECONNREFUSED","hostname":"_mongodb._tcp.cluster0.fatvzyr.mongodb.net","syscall":"querySrv"},"level":"error","message":"MongoDB connection failed","service":"identity-service","timestamp":"2026-02-09T05:57:57.257Z"}
{"error":{"code":"EREFUSED","hostname":"_mongodb._tcp.cluster0.fatvzyr.mongodb.net","syscall":"querySrv"},"level":"error","message":"MongoDB connection failed","service":"identity-service","timestamp":"2026-02-17T06:44:42.938Z"}
{"level":"error","message":"next is not a function","service":"identity-service","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/models/User.js:41:5)\n    at async Kareem.execPre (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:609:5)\n    at async registerUser (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/controllers/identity.controller.js:44:3)","timestamp":"2026-02-18T04:42:38.862Z"}
{"level":"error","message":"next is not a function","service":"identity-service","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/models/User.js:41:5)\n    at async Kareem.execPre (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:609:5)\n    at async registerUser (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/controllers/identity.controller.js:44:3)","timestamp":"2026-02-18T04:43:51.637Z"}
{"level":"error","message":"next is not a function","service":"identity-service","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/models/User.js:41:5)\n    at async Kareem.execPre (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:609:5)\n    at async /Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/controllers/identity.controller.js:44:3","timestamp":"2026-02-18T04:58:09.967Z"}
{"level":"error","message":"next is not a function","service":"identity-service","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/models/User.js:41:5)\n    at async Kareem.execPre (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:609:5)\n    at async /Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/controllers/identity.controller.js:36:3","timestamp":"2026-02-18T05:15:10.750Z"}
{"level":"error","message":"next is not a function","service":"identity-service","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/models/User.js:41:5)\n    at async Kareem.execPre (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:609:5)\n    at async /Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/controllers/identity.controller.js:36:3","timestamp":"2026-02-18T05:22:47.518Z"}
{"level":"error","message":"next is not a function","service":"identity-service","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/models/User.js:41:5)\n    at async Kareem.execPre (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:609:5)\n    at async /Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/controllers/identity.controller.js:36:3","timestamp":"2026-02-18T05:23:13.748Z"}
{"error":{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"ac-3qiscly-shard-00-00.fatvzyr.mongodb.net:27017":{"$clusterTime":null,"address":"ac-3qiscly-shard-00-00.fatvzyr.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":316527,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-3qiscly-shard-00-01.fatvzyr.mongodb.net:27017":{"$clusterTime":null,"address":"ac-3qiscly-shard-00-01.fatvzyr.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":316527,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-3qiscly-shard-00-02.fatvzyr.mongodb.net:27017":{"$clusterTime":null,"address":"ac-3qiscly-shard-00-02.fatvzyr.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":316527,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-f766nf-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"errorLabelSet":{},"message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"ac-3qiscly-shard-00-00.fatvzyr.mongodb.net:27017":{"$clusterTime":null,"address":"ac-3qiscly-shard-00-00.fatvzyr.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":316527,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-3qiscly-shard-00-01.fatvzyr.mongodb.net:27017":{"$clusterTime":null,"address":"ac-3qiscly-shard-00-01.fatvzyr.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":316527,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-3qiscly-shard-00-02.fatvzyr.mongodb.net:27017":{"$clusterTime":null,"address":"ac-3qiscly-shard-00-02.fatvzyr.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":316527,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-f766nf-shard-0","stale":false,"type":"ReplicaSetNoPrimary"}},"level":"error","message":"MongoDB connection failed","service":"identity-service","timestamp":"2026-02-18T05:32:24.600Z"}
{"level":"error","message":"next is not a function","service":"identity-service","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/models/User.js:41:5)\n    at async Kareem.execPre (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/node_modules/mongoose/lib/model.js:609:5)\n    at async /Users/macbookpro/Desktop/SOCIAL-MEDIA-MICROSERVICE/identity-service/src/controllers/identity.controller.js:36:3","timestamp":"2026-02-18T05:46:06.061Z"}
